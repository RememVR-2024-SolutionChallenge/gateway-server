## 🔎 Overview

This server operates as a **`traditional application server`**, but also serves as a **`gateway server for driving separate AI engine`**. As a gateway server, it queues requests to the AI server, and stores request data and resources. And also as an application server, it runs a query on a database, reprocesses the information, and provides it, according to the user's request.

## 🛠 Architecture

![gateway](https://github.com/RememberMe-2024-SolutionChallenge/gateway-server/assets/54667577/362aec62-eed9-4257-bc20-2485ebb04e96)

## ⚙️ Features

> 📲 **API Documentation: [https://gateway-server-n3wk2vhygq-uc.a.run.app/docs](https://gateway-server-n3wk2vhygq-uc.a.run.app/docs)**

| Authentication                                                                                                                                                                                                                                                                                                                                                                                                                          | Group (care relaitonship)                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | VR resources                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| - By using Google's OAuth2.0 method, make easier to join for this service. <br/><br/> - By using JWT method, reduce the difficulty of implementing the server for the session DB. <br/><br/>- By using refresh token, increase user experience by eliminating the inconvenience of frequently signing in. <br/><br/> - By setting refresh token's valid number of uses to 1, take security issues such as the takeover of fresh tokens. | - When first signing up, set a care giver (or care recipient) and connect relationship to create a group. <br/><br/> - In order to handle security issues, the care giver must enter in 30 minutes the certificate sent to the care recipient's email to connect. <br/><br/> - VR resources or \*badges are managed on a per-group basis. <br/><br/> (\* Badges are expected to serve as an easy way to know the status of reminiscence therapy, and as a motivation to encourage therapy.) <br/> | - By using AI, users can convert video to VR resource. <br/><br/> - In the converting process, the load of AI server is enormous and takes a lot of time, so gateway server stores data to storage(Cloud Storage, Firestore) and triggers a message broker. <br/><br/> - After VR resource is generated in AI, data enters Firestore and Cloud Storage, and Cloud Functions automatically transfers data from Firestore to Cloud SQL (\*main DB). <br/><br/> - Thanks to two Cloud Functions functions, the logic of the gateway server was lightened, and the dependence on the AI server was reduced. |
